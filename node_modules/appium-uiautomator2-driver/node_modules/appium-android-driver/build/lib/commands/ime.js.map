{"version":3,"file":"ime.js","names":["commands","helpers","extensions","isIMEActivated","availableIMEEngines","log","debug","engines","adb","availableIMEs","JSON","stringify","getActiveIMEEngine","defaultIME","activateIMEEngine","imeId","availableEngines","indexOf","errors","IMENotAvailableError","enableIME","setIME","deactivateIMEEngine","currentEngine","disableIME","Object","assign"],"sources":["../../../lib/commands/ime.js"],"sourcesContent":["import { errors } from 'appium/driver';\n\nlet commands = {}, helpers = {}, extensions = {};\n\ncommands.isIMEActivated = async function isIMEActivated () { // eslint-disable-line require-await\n  // IME is always activated on Android devices\n  return true;\n};\n\ncommands.availableIMEEngines = async function availableIMEEngines () {\n  this.log.debug('Retrieving available IMEs');\n  let engines = await this.adb.availableIMEs();\n  this.log.debug(`Engines: ${JSON.stringify(engines)}`);\n  return engines;\n};\n\ncommands.getActiveIMEEngine = async function getActiveIMEEngine () {\n  this.log.debug('Retrieving current default IME');\n  return await this.adb.defaultIME();\n};\n\ncommands.activateIMEEngine = async function activateIMEEngine (imeId) {\n  this.log.debug(`Attempting to activate IME ${imeId}`);\n  let availableEngines = await this.adb.availableIMEs();\n  if (availableEngines.indexOf(imeId) === -1) {\n    this.log.debug('IME not found, failing');\n    throw new errors.IMENotAvailableError();\n  }\n  this.log.debug('Found installed IME, attempting to activate');\n  await this.adb.enableIME(imeId);\n  await this.adb.setIME(imeId);\n};\n\ncommands.deactivateIMEEngine = async function deactivateIMEEngine () {\n  let currentEngine = await this.getActiveIMEEngine();\n  this.log.debug(`Attempting to deactivate ${currentEngine}`);\n  await this.adb.disableIME(currentEngine);\n};\n\nObject.assign(extensions, commands, helpers);\nexport { commands, helpers };\nexport default extensions;\n"],"mappings":";;;;;;;AAAA;AAEA,IAAIA,QAAQ,GAAG,CAAC,CAAC;EAAEC,OAAO,GAAG,CAAC,CAAC;EAAEC,UAAU,GAAG,CAAC,CAAC;AAAC;AAAA;AAEjDF,QAAQ,CAACG,cAAc,GAAG,eAAeA,cAAc,GAAI;EAEzD,OAAO,IAAI;AACb,CAAC;AAEDH,QAAQ,CAACI,mBAAmB,GAAG,eAAeA,mBAAmB,GAAI;EACnE,IAAI,CAACC,GAAG,CAACC,KAAK,CAAC,2BAA2B,CAAC;EAC3C,IAAIC,OAAO,GAAG,MAAM,IAAI,CAACC,GAAG,CAACC,aAAa,EAAE;EAC5C,IAAI,CAACJ,GAAG,CAACC,KAAK,CAAE,YAAWI,IAAI,CAACC,SAAS,CAACJ,OAAO,CAAE,EAAC,CAAC;EACrD,OAAOA,OAAO;AAChB,CAAC;AAEDP,QAAQ,CAACY,kBAAkB,GAAG,eAAeA,kBAAkB,GAAI;EACjE,IAAI,CAACP,GAAG,CAACC,KAAK,CAAC,gCAAgC,CAAC;EAChD,OAAO,MAAM,IAAI,CAACE,GAAG,CAACK,UAAU,EAAE;AACpC,CAAC;AAEDb,QAAQ,CAACc,iBAAiB,GAAG,eAAeA,iBAAiB,CAAEC,KAAK,EAAE;EACpE,IAAI,CAACV,GAAG,CAACC,KAAK,CAAE,8BAA6BS,KAAM,EAAC,CAAC;EACrD,IAAIC,gBAAgB,GAAG,MAAM,IAAI,CAACR,GAAG,CAACC,aAAa,EAAE;EACrD,IAAIO,gBAAgB,CAACC,OAAO,CAACF,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;IAC1C,IAAI,CAACV,GAAG,CAACC,KAAK,CAAC,wBAAwB,CAAC;IACxC,MAAM,IAAIY,cAAM,CAACC,oBAAoB,EAAE;EACzC;EACA,IAAI,CAACd,GAAG,CAACC,KAAK,CAAC,6CAA6C,CAAC;EAC7D,MAAM,IAAI,CAACE,GAAG,CAACY,SAAS,CAACL,KAAK,CAAC;EAC/B,MAAM,IAAI,CAACP,GAAG,CAACa,MAAM,CAACN,KAAK,CAAC;AAC9B,CAAC;AAEDf,QAAQ,CAACsB,mBAAmB,GAAG,eAAeA,mBAAmB,GAAI;EACnE,IAAIC,aAAa,GAAG,MAAM,IAAI,CAACX,kBAAkB,EAAE;EACnD,IAAI,CAACP,GAAG,CAACC,KAAK,CAAE,4BAA2BiB,aAAc,EAAC,CAAC;EAC3D,MAAM,IAAI,CAACf,GAAG,CAACgB,UAAU,CAACD,aAAa,CAAC;AAC1C,CAAC;AAEDE,MAAM,CAACC,MAAM,CAACxB,UAAU,EAAEF,QAAQ,EAAEC,OAAO,CAAC;AAAC,eAE9BC,UAAU;AAAA"}